{% extends 'base.html' %}

{% block content %}
<div class="container mt-5 mb-5">
    <h1>Редактировать новость</h1>
    <form method="POST" action="{% url 'webapp:edit_news' news.id %}">
        {% csrf_token %}
        <div class="form-group">
            <label for="title">Заголовок:</label>
            <input type="text" id="title" name="title" class="form-control" value="{{ news.title }}">
        </div>
        <div class="form-group mt-3">
            <label for="full_text">Полный текст:</label>
            <textarea id="full_text" name="full_text" class="form-control summernote">{{ news.full_text }}</textarea>
        </div>
        <button type="submit" class="btn btn-primary mt-3">Сохранить</button>
        <a href="{% url 'webapp:news_detail' news_item.id %}" class="btn btn-secondary mt-3">Отмена</a>
    </form>
</div>
{% endblock %}
<script src="https://cdn.jsdelivr.net/npm/summernote/dist/summernote.min.js"></script>
<script>
    $(document).ready(function () {
        $('.summernote').summernote({
            height: 300,
            focus: true,
            lang: 'ru-RU',  // Локализация
            toolbar: [
                ['style', ['bold', 'italic', 'underline', 'clear']],
                ['font', ['strikethrough', 'superscript', 'subscript']],
                ['fontsize', ['fontsize']],
                ['color', ['color']],
                ['para', ['ul', 'ol', 'paragraph']],
                ['table', ['table']],
                ['insert', ['link', 'picture', 'video']],
                ['view', ['fullscreen', 'codeview', 'help']]
            ]
        });
    });
</script>
